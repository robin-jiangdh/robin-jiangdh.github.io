<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-17T22:54:22.990993"><meta name="build-number" content="${buildNumber}">       <title>MySQL 执行计划 | blog</title><script id="virtual-toc-data" type="application/json">[{"id":"explain_1","level":0,"title":"Explain输出格式","anchor":"#explain_1"},{"id":"f9cefd38_1522","level":0,"title":"获取命名连接的执行计划信息","anchor":"#f9cefd38_1522"},{"id":"f9cefd38_1556","level":0,"title":"估计查询性能","anchor":"#f9cefd38_1556"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="MySQL 执行计划 | blog"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="blog Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/1.0/2017-01-11-mysql-explain-or-desc.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="MySQL 执行计划 | blog"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/1.0/2017-01-11-mysql-explain-or-desc.html#webpage", "url": "/1.0/2017-01-11-mysql-explain-or-desc.html", "name": "MySQL 执行计划 | blog", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "blog Help" }</script><!-- End Schema.org --></head>      <body data-id="2017-01-11-mysql-explain-or-desc" data-main-title="MySQL 执行计划" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="post///mysql"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>blog 1.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="2017-01-11-mysql-explain-or-desc"   id="2017-01-11-mysql-explain-or-desc.md">MySQL 执行计划</h1>  <aside class="prompt" data-type="tip" data-title="" id="f9cefd38_1402"><p id="f9cefd38_1403">一直在使用Explain，今天被扫盲，专业名词叫执行计划~，野生码农误国啊~</p><p id="f9cefd38_1404"><a href="https://dev.mysql.com/doc/refman/5.7/en/execution-plan-information.html" id="f9cefd38_1405"   data-external="true" rel="noopener noreferrer" >官方文档地址</a></p></aside><p id="f9cefd38_1406">MySQL提供<a href="https://dev.mysql.com/doc/refman/5.7/en/execution-plan-information.html" id="f9cefd38_1407"   data-external="true" rel="noopener noreferrer" ><span class="control" id="f9cefd38_1408">explain/desc</span></a> 命令输出执行计划，我们通过执行计划优化SQL语句</p><aside class="prompt" data-type="tip" data-title="" id="f9cefd38_1409"><p id="f9cefd38_1410">根据表，列，索引的详细信息以及<code class="code" id="f9cefd38_1411">WHERE</code> 子句中的条件，MySQL优化器考虑了许多技术来有效执行SQL查询中涉及的查找。无需读取所有行即可执行对巨大表的查询；可以执行涉及多个表的联接，而无需比较行的每个组合。优化器选择执行最有效查询的一组操作称为&ldquo; 查询执行计划 &rdquo;，也称为 <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1412"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1413">EXPLAIN</code></a> 计划。您的目标是认识到 <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1414"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1415">EXPLAIN</code></a> 表示查询优化的计划，如果发现一些低效的操作，则可以学习SQL语法和索引技术来改进计划。</p></aside><p id="f9cefd38_1416">该<a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1417"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1418">EXPLAIN</code></a> 语句提供有关MySQL如何执行语句的信息：</p><ul class="list _ul" id="f9cefd38_1419"><li class="list__item" id="f9cefd38_1420"><p><a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1421"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1422">EXPLAIN</code></a> 作品有 <a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1423"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1424">SELECT</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/delete.html" id="f9cefd38_1425"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1426">DELETE</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" id="f9cefd38_1427"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1428">INSERT</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/replace.html" id="f9cefd38_1429"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1430">REPLACE</code></a> ，和 <a href="https://dev.mysql.com/doc/refman/5.7/en/update.html" id="f9cefd38_1431"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1432">UPDATE</code></a> 语句。</p></li><li class="list__item" id="f9cefd38_1433"><p>当<a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1434"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1435">EXPLAIN</code></a> 与可解释的语句一起使用时，MySQL将显示来自优化器的有关语句执行计划的信息。也就是说，MySQL解释了它将如何处理该语句，包括有关如何连接表以及以何种顺序连接表的信息。</p></li><li class="list__item" id="f9cefd38_1436"><p>当<a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1437"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1438">EXPLAIN</code></a> 与 <code class="code" id="f9cefd38_1439">FOR CONNECTION *</code>connection_id<code class="code" id="f9cefd38_1440">*</code> 而不是可解释的语句一起使用时，它将显示在名为这个&ldquo;connetction_id&rdquo;的连接中正在执行的语句的执行计划。</p></li><li class="list__item" id="f9cefd38_1441"><p>对于<a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1442"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1443">SELECT</code></a> 语句， 在<a href="https://dev.mysql.com/doc/refman/5.7/en/show-warnings.html" id="f9cefd38_1444"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1445">SHOW WARNINGS</code></a> 模式下， <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1446"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1447">EXPLAIN</code></a> 可以输出更多的执行计划信息。</p></li><li class="list__item" id="f9cefd38_1448"><p><a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1449"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1450">EXPLAIN</code></a> 对于检查涉及分区表的查询很有用。</p></li><li class="list__item" id="f9cefd38_1451"><p><code class="code" id="f9cefd38_1452">FORMAT</code>选项可用于设置输出格式。 <code class="code" id="f9cefd38_1453">TRADITIONAL</code>以表格格式显示输出。默认情况下不需要提供<code class="code" id="f9cefd38_1454">FORMAT</code>设置 。 format设置为<code class="code" id="f9cefd38_1455">JSON</code> 时，以JSON格式显示信息。</p></li></ul><section class="chapter"><h2 id="explain_1" data-toc="explain_1"   >Explain输出格式</h2><p id="f9cefd38_1456"><a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1457"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1458">EXPLAIN</code></a> 语句提供有关MySQL如何执行语句的信息。 <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1459"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1460">EXPLAIN</code></a> 支持 <a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1461"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1462">SELECT</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/delete.html" id="f9cefd38_1463"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1464">DELETE</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" id="f9cefd38_1465"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1466">INSERT</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/replace.html" id="f9cefd38_1467"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1468">REPLACE</code></a> 和 <a href="https://dev.mysql.com/doc/refman/5.7/en/update.html" id="f9cefd38_1469"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1470">UPDATE</code></a> 语句。</p><p id="f9cefd38_1471"><a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1472"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1473">EXPLAIN</code></a> 为<a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1474"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1475">SELECT</code></a> 语句中使用的每个表返回一行信息 。它按照MySQL在处理语句时读取它们的顺序列出了输出中的表。MySQL使用嵌套循环连接方法解析所有连接。这意味着MySQL从第一个表中读取一行，然后在第二个表，第三个表中找到匹配的行，依此类推。处理完所有表后，MySQL将通过表列表输出选定的列和回溯，直到找到一个表，其中存在更多匹配的行。从该表中读取下一行，然后继续下一个表。</p><p id="f9cefd38_1476"><a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1477"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1478">EXPLAIN</code></a> 输出包括分区信息。此外，对于<a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1479"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1480">SELECT</code></a> 语句， <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1481"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1482">EXPLAIN</code></a> 产生可与被显示扩展信息 <a href="https://dev.mysql.com/doc/refman/5.7/en/show-warnings.html" id="f9cefd38_1483"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1484">SHOW WARNINGS</code></a> 之后的 <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1485"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1486">EXPLAIN</code></a></p><section class="chapter"><h3 id="explain" data-toc="explain"   >扩展的EXPLAIN输出格式</h3><p id="f9cefd38_1487">对于<a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1488"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1489">SELECT</code></a> 语句，该 <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1490"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1491">EXPLAIN</code></a> 语句会产生额外的（&ldquo; 扩展 &rdquo;）信息，这些信息不属于 <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1492"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1493">EXPLAIN</code></a> 输出，但可以通过在<a href="https://dev.mysql.com/doc/refman/5.7/en/show-warnings.html" id="f9cefd38_1494"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1495">SHOW WARNINGS</code></a> 以下语句发出来查看<a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1496"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1497">EXPLAIN</code></a> 。输出中的 <code class="code" id="f9cefd38_1498">Message</code> 值<a href="https://dev.mysql.com/doc/refman/5.7/en/show-warnings.html" id="f9cefd38_1499"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1500">SHOW WARNINGS</code></a> 显示优化器如何限定<a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1501"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1502">SELECT</code></a> 语句 中的表名和列名， <a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1503"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1504">SELECT</code></a> 应用重写和优化规则后的外观以及有关优化过程的其他注释。</p><p id="f9cefd38_1505">可在<a href="https://dev.mysql.com/doc/refman/5.7/en/show-warnings.html" id="f9cefd38_1506"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1507">SHOW WARNINGS</code></a> 语句后面 显示的扩展信息 <a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1508"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1509">EXPLAIN</code></a> 仅针对 <a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1510"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1511">SELECT</code></a> 语句生成。 <a href="https://dev.mysql.com/doc/refman/5.7/en/show-warnings.html" id="f9cefd38_1512"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1513">SHOW WARNINGS</code></a> 显示其他可解释语句空结果（<a href="https://dev.mysql.com/doc/refman/5.7/en/delete.html" id="f9cefd38_1514"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1515">DELETE</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" id="f9cefd38_1516"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1517">INSERT</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/replace.html" id="f9cefd38_1518"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1519">REPLACE</code></a> ，和 <a href="https://dev.mysql.com/doc/refman/5.7/en/update.html" id="f9cefd38_1520"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1521">UPDATE</code></a>）。</p></section></section><section class="chapter"><h2 id="f9cefd38_1522" data-toc="f9cefd38_1522"   >获取命名连接的执行计划信息</h2><div class="code-block" data-lang="none"         >
EXPLAIN [options] FOR CONNECTION connection_id;
</div><p id="f9cefd38_1524"><a href="https://dev.mysql.com/doc/refman/5.7/en/explain-for-connection.html" id="f9cefd38_1525"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1526">EXPLAIN FOR CONNECTION</code></a> 返回<a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1527"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1528">EXPLAIN</code></a> 当前在给定连接中用于执行查询的信息。由于数据（和支持统计数据）的更改，它可能会产生与<a href="https://dev.mysql.com/doc/refman/5.7/en/explain.html" id="f9cefd38_1529"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1530">EXPLAIN</code></a> 在等效查询文本上运行不同的结果 。行为上的这种差异对于诊断更多瞬时性能问题很有用。例如，如果您在一个需要很长时间才能完成的会话中运行语句，则<a href="https://dev.mysql.com/doc/refman/5.7/en/explain-for-connection.html" id="f9cefd38_1531"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1532">EXPLAIN FOR CONNECTION</code></a> 在另一会话中使用该语句可能会产生有关延迟原因的有用信息。</p><p id="f9cefd38_1533"><span class="emphasis" id="f9cefd38_1534"><code class="code" id="f9cefd38_1535">connection_id</code></span> 是从<code class="code" id="f9cefd38_1536">INFORMATION_SCHEMA</code> <a href="https://dev.mysql.com/doc/refman/5.7/en/processlist-table.html" id="f9cefd38_1537"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1538">PROCESSLIST</code></a> 表或 <a href="https://dev.mysql.com/doc/refman/5.7/en/show-processlist.html" id="f9cefd38_1539"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1540">SHOW PROCESSLIST</code></a> 语句获得的连接标识符 。如果有<a href="https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html#priv_process" id="f9cefd38_1541"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1542">PROCESS</code></a> 特权，则可以为任何连接指定标识符。否则，您只能为自己的连接指定标识符。</p><p id="f9cefd38_1543">如果命名连接未执行语句，则结果为空。否则， <code class="code" id="f9cefd38_1544">EXPLAIN FOR CONNECTION</code> 仅当在命名连接中执行的语句是可解释的时才适用。这包括 <a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" id="f9cefd38_1545"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1546">SELECT</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/delete.html" id="f9cefd38_1547"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1548">DELETE</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" id="f9cefd38_1549"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1550">INSERT</code></a>， <a href="https://dev.mysql.com/doc/refman/5.7/en/replace.html" id="f9cefd38_1551"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1552">REPLACE</code></a> ，和 <a href="https://dev.mysql.com/doc/refman/5.7/en/update.html" id="f9cefd38_1553"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1554">UPDATE</code></a> 。（但是， <code class="code" id="f9cefd38_1555">EXPLAIN FOR CONNECTION</code> 不适用于预备语句，甚至不适用于这些类型的预备语句。）</p></section><section class="chapter"><h2 id="f9cefd38_1556" data-toc="f9cefd38_1556"   >估计查询性能</h2><p id="f9cefd38_1557">在大多数情况下，您可以通过计算磁盘搜索次数来估计查询性能。对于小型表，通常可以在一个磁盘搜索中找到一行（因为索引可能已缓存）。对于更大的表，您可以估计，使用B树索引，您需要进行许多查找才能找到行： 。 <code class="code" id="f9cefd38_1558">log(*</code> row_count<code class="code" id="f9cefd38_1559">*) / log(*</code>index_block_length<code class="code" id="f9cefd38_1560">* / 3 * 2 / (*</code>index_length<code class="code" id="f9cefd38_1561">* + *</code>data_pointer_length<code class="code" id="f9cefd38_1562">*)) + 1</code></p><p id="f9cefd38_1563">在MySQL中，索引块通常为1,024字节，数据指针通常为四个字节。对于一个键值长度为三个字节（大小为<a href="https://dev.mysql.com/doc/refman/5.7/en/integer-types.html" id="f9cefd38_1564"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1565">MEDIUMINT</code></a> ）的500,000行表 ，该公式表示 <code class="code" id="f9cefd38_1566">log(500,000)/log(1024/3*2/(3+4)) + 1</code>=搜索 <code class="code" id="f9cefd38_1567">4</code>。</p><p id="f9cefd38_1568">该索引将需要大约500,000 * 7 * 3/2 = 5.2MB的存储空间（假设典型的索引缓冲区填充率为2/3），因此您可能在内存中拥有很多索引，因此只需要一个或两个调用即可读取数据以查找行。</p><p id="f9cefd38_1569">但是，对于写操作，您需要四个搜索请求来查找在何处放置新索引值，通常需要两个搜索来更新索引并写入行。</p><p id="f9cefd38_1570">前面的讨论并不意味着您的应用程序性能会因log缓慢下降 <span class="emphasis" id="f9cefd38_1571"><code class="code" id="f9cefd38_1572">N</code></span> 。只要所有内容都由OS或MySQL服务器缓存，随着表的增加，事情只会变得稍微慢一些。在数据变得太大而无法缓存之后，事情开始变得缓慢得多，直到您的应用程序仅受磁盘搜索约束（随日志增长 <span class="emphasis" id="f9cefd38_1573"><code class="code" id="f9cefd38_1574">N</code></span> ）。为避免这种情况，请随着数据的增长而增加密钥缓存的大小。对于<code class="code" id="f9cefd38_1575">MyISAM</code> 表，键缓存大小由<a href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_key_buffer_size" id="f9cefd38_1576"   data-external="true" rel="noopener noreferrer" ><code class="code" id="f9cefd38_1577">key_buffer_size</code></a> 系统变量控制</p></section><div class="last-modified"> Last modified: 17 十二月 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="2018-04-11-mysql-index-optimization.html">索引优化原则</a>   <a class="navigation-links__next" href="2016-01-15-mysql-index.html">MySQL索引原理</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>