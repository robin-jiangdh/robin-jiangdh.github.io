<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-17T23:19:47.2337553"><meta name="build-number" content="${buildNumber}">       <title>ODBC Driver for ClickHouse | blog</title><script id="virtual-toc-data" type="application/json">[{"id":"odbc-driver-for-clickhouse-linktitle-odbc-driver-for-clickhouse-weight-100-description-odbc-driver-for-clickhouse","level":0,"title":"#ODBC Driver for ClickHouse\nlinkTitle: \"ODBC Driver for ClickHouse\"\nweight: 100\ndescription: \u003e-\nODBC Driver for ClickHouse","anchor":"#odbc-driver-for-clickhouse-linktitle-odbc-driver-for-clickhouse-weight-100-description-odbc-driver-for-clickhouse"},{"id":"installation-and-usage","level":0,"title":"Installation and usage","anchor":"#installation-and-usage"},{"id":"configuration","level":0,"title":"Configuration","anchor":"#configuration"},{"id":"troubleshooting-bug-reporting","level":0,"title":"Troubleshooting \u0026 bug reporting","anchor":"#troubleshooting-bug-reporting"},{"id":"driver-managers","level":0,"title":"Driver Managers","anchor":"#driver-managers"},{"id":"building-from-sources","level":0,"title":"Building from sources","anchor":"#building-from-sources"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="ODBC Driver for ClickHouse | blog"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="blog Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/blog/1.0/kb-integrations-clickhouse-odbc.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="ODBC Driver for ClickHouse | blog"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/blog/1.0/kb-integrations-clickhouse-odbc.html#webpage", "url": "/blog/1.0/kb-integrations-clickhouse-odbc.html", "name": "ODBC Driver for ClickHouse | blog", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/blog/#website", "url": "/blog/", "name": "blog Help" }</script><!-- End Schema.org --></head>      <body data-id="kb-integrations_clickhouse-odbc" data-main-title="ODBC Driver for ClickHouse" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Clickhouse///kb-integrations"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>blog 1.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="kb-integrations_clickhouse-odbc"   id="kb-integrations_clickhouse-odbc.md">ODBC Driver for ClickHouse</h1>  <section class="chapter"><h2 id="odbc-driver-for-clickhouse-linktitle-odbc-driver-for-clickhouse-weight-100-description-odbc-driver-for-clickhouse" data-toc="odbc-driver-for-clickhouse-linktitle-odbc-driver-for-clickhouse-weight-100-description-odbc-driver-for-clickhouse"   >#ODBC Driver for ClickHouse
linkTitle: &quot;ODBC Driver for ClickHouse&quot;
weight: 100
description: &gt;-
ODBC Driver for ClickHouse</h2></section><p id="891e80cb_4910"><a href="https://docs.microsoft.com/en-us/sql/odbc/reference/odbc-overview" id="891e80cb_4911"   data-external="true" rel="noopener noreferrer" >ODBC</a> interface for <a href="https://clickhouse.yandex" id="891e80cb_4912"   data-external="true" rel="noopener noreferrer" >ClickHouse</a> RDBMS.</p><p id="891e80cb_4913">Licensed under the Apache 2.0</p><section class="chapter"><h2 id="installation-and-usage" data-toc="installation-and-usage"   >Installation and usage</h2><section class="chapter"><h3 id="windows_1" data-toc="windows_1"   >Windows</h3><ol class="list _decimal" id="891e80cb_4914" type="1"><li class="list__item" id="891e80cb_4915"><p>Download the latest <a href="https://github.com/ClickHouse/clickhouse-odbc/releases" id="891e80cb_4916"   data-external="true" rel="noopener noreferrer" >release</a>. On 64bit system you usually need both 32 bit and 64 bit drivers.</p></li><li class="list__item" id="891e80cb_4917"><p>Install (usually you will need ANSI driver, but better to install both versions, see below).</p></li><li class="list__item" id="891e80cb_4918"><p>Configure ClickHouse DSN.</p></li></ol><p id="891e80cb_4919">Note: that install driver linked against MDAC (which is default for Windows), some non-windows native applications (cygwin / msys64 based) may require driver linked agains unixodbc. Build section below.</p></section><section class="chapter"><h3 id="macos" data-toc="macos"   >MacOS</h3><ol class="list _decimal" id="891e80cb_4920" type="1"><li class="list__item" id="891e80cb_4921"><p>Install <a href="https://brew.sh/" id="891e80cb_4922"   data-external="true" rel="noopener noreferrer" >homebrew</a>.</p></li><li class="list__item" id="891e80cb_4923"><p>Install driver</p></li></ol><div class="code-block" data-lang="none"         >
brew install https://raw.githubusercontent.com/proller/homebrew-core/chodbc/Formula/clickhouse-odbc.rb
</div><ol class="list _decimal" id="891e80cb_4925" type="1" start="3"><li class="list__item" id="891e80cb_4926"><p>Add clickhouse DSN configuration into ~/.odbc.ini file. (<a href="sampling-example.html" id="891e80cb_4927" data-tooltip="The most important idea about sampling that the primary index must have low cardinality. The following example demonstrates how sampling can be setup correctly, and an example if it being set up incorrectly as a comparison."  >sample</a>)</p></li></ol><p id="891e80cb_4928">Note: that install driver linked against iodbc (which is default for Mac), some homebrew applications (like python) may require unixodbc driver to work properly. In that case see Build section below.</p></section><section class="chapter"><h3 id="linux" data-toc="linux"   >Linux</h3><ol class="list _decimal" id="891e80cb_4929" type="1"><li class="list__item" id="891e80cb_4930"><p>DEB/RPM packaging is not provided yet, please build &amp; install the driver from sources.</p></li><li class="list__item" id="891e80cb_4931"><p>Add clickhouse DSN configuration into ~/.odbc.ini file.</p></li></ol></section></section><section class="chapter"><h2 id="configuration" data-toc="configuration"   >Configuration</h2><p id="891e80cb_4932">On Linux / Max you configure DSN by adding new desctions in ~/.odbc.ini (See sample file: https://github.com/ClickHouse/clickhouse-odbc/blob/fd74398b50201ab13b535cdfab57bca86e588b37/packaging/odbc.ini.sample )</p><p id="891e80cb_4933">On Windows you can create/edit DSN using GUI tool through Control Panel.</p><p id="891e80cb_4934">The list of DSN parameters recognized by the driver is as follows:</p><div class="table-wrapper"><table class="wide" id="891e80cb_4935"><thead><tr class="ijRowHead" id="891e80cb_4936"><th id="891e80cb_4937"><p>Parameter</p></th><th id="891e80cb_4938"><p>Default value</p></th><th id="891e80cb_4939"><p>Description</p></th></tr></thead><tbody><tr id="891e80cb_4940"><td id="891e80cb_4941"><p><code class="code" id="891e80cb_4942">Url</code></p></td><td id="891e80cb_4943"><p>empty</p></td><td id="891e80cb_4944"><p>URL that points to a running ClickHouse instance, may include username, password, port, database, etc.</p></td></tr><tr id="891e80cb_4945"><td id="891e80cb_4946"><p><code class="code" id="891e80cb_4947">Proto</code></p></td><td id="891e80cb_4948"><p>deduced from <code class="code" id="891e80cb_4949">Url</code>, or from <code class="code" id="891e80cb_4950">Port</code> and <code class="code" id="891e80cb_4951">SSLMode</code>: <code class="code" id="891e80cb_4952">https</code> if <code class="code" id="891e80cb_4953">443</code> or <code class="code" id="891e80cb_4954">8443</code> or <code class="code" id="891e80cb_4955">SSLMode</code> is not empty, <code class="code" id="891e80cb_4956">http</code> otherwise</p></td><td id="891e80cb_4957"><p>Protocol, one of: <code class="code" id="891e80cb_4958">http</code>, <code class="code" id="891e80cb_4959">https</code></p></td></tr><tr id="891e80cb_4960"><td id="891e80cb_4961"><p><code class="code" id="891e80cb_4962">Server</code> or <code class="code" id="891e80cb_4963">Host</code></p></td><td id="891e80cb_4964"><p>deduced from <code class="code" id="891e80cb_4965">Url</code></p></td><td id="891e80cb_4966"><p>IP or hostname of a server with a running ClickHouse instance on it</p></td></tr><tr id="891e80cb_4967"><td id="891e80cb_4968"><p><code class="code" id="891e80cb_4969">Port</code></p></td><td id="891e80cb_4970"><p>deduced from <code class="code" id="891e80cb_4971">Url</code>, or from <code class="code" id="891e80cb_4972">Proto</code>: <code class="code" id="891e80cb_4973">8443</code> if <code class="code" id="891e80cb_4974">https</code>, <code class="code" id="891e80cb_4975">8123</code> otherwise</p></td><td id="891e80cb_4976"><p>Port on which the ClickHouse instance is listening</p></td></tr><tr id="891e80cb_4977"><td id="891e80cb_4978"><p><code class="code" id="891e80cb_4979">Path</code></p></td><td id="891e80cb_4980"><p><code class="code" id="891e80cb_4981">/query</code></p></td><td id="891e80cb_4982"><p>Path portion of the URL</p></td></tr><tr id="891e80cb_4983"><td id="891e80cb_4984"><p><code class="code" id="891e80cb_4985">UID</code> or <code class="code" id="891e80cb_4986">Username</code></p></td><td id="891e80cb_4987"><p><code class="code" id="891e80cb_4988">default</code></p></td><td id="891e80cb_4989"><p>User name</p></td></tr><tr id="891e80cb_4990"><td id="891e80cb_4991"><p><code class="code" id="891e80cb_4992">PWD</code> or <code class="code" id="891e80cb_4993">Password</code></p></td><td id="891e80cb_4994"><p>empty</p></td><td id="891e80cb_4995"><p>Password</p></td></tr><tr id="891e80cb_4996"><td id="891e80cb_4997"><p><code class="code" id="891e80cb_4998">Database</code></p></td><td id="891e80cb_4999"><p><code class="code" id="891e80cb_5000">default</code></p></td><td id="891e80cb_5001"><p>Database name to connect to</p></td></tr><tr id="891e80cb_5002"><td id="891e80cb_5003"><p><code class="code" id="891e80cb_5004">Timeout</code></p></td><td id="891e80cb_5005"><p><code class="code" id="891e80cb_5006">30</code></p></td><td id="891e80cb_5007"><p>Connection timeout</p></td></tr><tr id="891e80cb_5008"><td id="891e80cb_5009"><p><code class="code" id="891e80cb_5010">SSLMode</code></p></td><td id="891e80cb_5011"><p>empty</p></td><td id="891e80cb_5012"><p>Certificate verification method (used by TLS/SSL connections, ignored in Windows), one of: <code class="code" id="891e80cb_5013">allow</code>, <code class="code" id="891e80cb_5014">prefer</code>, <code class="code" id="891e80cb_5015">require</code>, use <code class="code" id="891e80cb_5016">allow</code> to enable <a href="https://www.openssl.org/docs/manmaster/man3/SSL_CTX_set_verify.html" id="891e80cb_5017"   data-external="true" rel="noopener noreferrer" ><code class="code" id="891e80cb_5018">SSL_VERIFY_PEER</code></a> TLS/SSL certificate verification mode, <a href="https://www.openssl.org/docs/manmaster/man3/SSL_CTX_set_verify.html" id="891e80cb_5019"   data-external="true" rel="noopener noreferrer" ><code class="code" id="891e80cb_5020">SSL_VERIFY_PEER | SSL_VERIFY_FAIL_IF_NO_PEER_CERT</code></a> is used otherwise</p></td></tr><tr id="891e80cb_5021"><td id="891e80cb_5022"><p><code class="code" id="891e80cb_5023">PrivateKeyFile</code></p></td><td id="891e80cb_5024"><p>empty</p></td><td id="891e80cb_5025"><p>Path to private key file (used by TLS/SSL connections), can be empty if no private key file is used</p></td></tr><tr id="891e80cb_5026"><td id="891e80cb_5027"><p><code class="code" id="891e80cb_5028">CertificateFile</code></p></td><td id="891e80cb_5029"><p>empty</p></td><td id="891e80cb_5030"><p>Path to certificate file (used by TLS/SSL connections, ignored in Windows), if the private key and the certificate are stored in the same file, this can be empty if <code class="code" id="891e80cb_5031">PrivateKeyFile</code> is specified</p></td></tr><tr id="891e80cb_5032"><td id="891e80cb_5033"><p><code class="code" id="891e80cb_5034">CALocation</code></p></td><td id="891e80cb_5035"><p>empty</p></td><td id="891e80cb_5036"><p>Path to the file or directory containing the CA/root certificates (used by TLS/SSL connections, ignored in Windows)</p></td></tr><tr id="891e80cb_5037"><td id="891e80cb_5038"><p><code class="code" id="891e80cb_5039">DriverLog</code></p></td><td id="891e80cb_5040"><p><code class="code" id="891e80cb_5041">on</code> if <code class="code" id="891e80cb_5042">CMAKE_BUILD_TYPE</code> is <code class="code" id="891e80cb_5043">Debug</code>, <code class="code" id="891e80cb_5044">off</code> otherwise</p></td><td id="891e80cb_5045"><p>Enable or disable the extended driver logging</p></td></tr><tr id="891e80cb_5046"><td id="891e80cb_5047"><p><code class="code" id="891e80cb_5048">DriverLogFile</code></p></td><td id="891e80cb_5049"><p><code class="code" id="891e80cb_5050">\temp\clickhouse-odbc-driver.log</code> on Windows, <code class="code" id="891e80cb_5051">/tmp/clickhouse-odbc-driver.log</code> otherwise</p></td><td id="891e80cb_5052"><p>Path to the extended driver log file (used when <code class="code" id="891e80cb_5053">DriverLog</code> is <code class="code" id="891e80cb_5054">on</code>)</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="troubleshooting-bug-reporting" data-toc="troubleshooting-bug-reporting"   >Troubleshooting &amp; bug reporting</h2><p id="891e80cb_5055">If some software doesn't work properly with that driver, but works good with other drivers - we will be appritiate if you will be able to collect debug info.</p><p id="891e80cb_5056">To debug issues with the driver, first things that need to be done are:</p><ul class="list _ul" id="891e80cb_5057"><li class="list__item" id="891e80cb_5058"><p>enabling driver manager tracing. Links may contain some irrelevant vendor-specific details. </p><ul class="list _ul" id="891e80cb_5059"><li class="list__item" id="891e80cb_5060"><p>on Windows/MDAC: <a href="https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-configuration-trace-windows.html" id="891e80cb_5061"   data-external="true" rel="noopener noreferrer" >1</a>, <a href="https://www.simba.com/blog/odbc-troubleshooting-tracing/" id="891e80cb_5062"   data-external="true" rel="noopener noreferrer" >2</a>, <a href="https://docs.microsoft.com/en-us/sql/odbc/reference/develop-app/enabling-tracing" id="891e80cb_5063"   data-external="true" rel="noopener noreferrer" >3</a></p></li><li class="list__item" id="891e80cb_5064"><p>on Mac/iODBC: <a href="https://www.simba.com/blog/odbc-troubleshooting-tracing/" id="891e80cb_5065"   data-external="true" rel="noopener noreferrer" >1</a>, <a href="http://www.iodbc.org/dataspace/doc/iodbc/wiki/iodbcWiki/FAQ#Tracing%20Application%20Behavior" id="891e80cb_5066"   data-external="true" rel="noopener noreferrer" >2</a></p></li><li class="list__item" id="891e80cb_5067"><p>on Linux/unixODBC: <a href="https://www.simba.com/blog/odbc-troubleshooting-tracing/" id="891e80cb_5068"   data-external="true" rel="noopener noreferrer" >1</a>, <a href="https://www.easysoft.com/support/kb/kb00945.html" id="891e80cb_5069"   data-external="true" rel="noopener noreferrer" >2</a></p></li></ul></li><li class="list__item" id="891e80cb_5070"><p>enabling driver logging, see <code class="code" id="891e80cb_5071">DriverLog</code> and <code class="code" id="891e80cb_5072">DriverLogFile</code> DSN parameters above</p></li><li class="list__item" id="891e80cb_5073"><p>making sure that the application is allowed to create and write these driver log and driver manager trace files</p></li><li class="list__item" id="891e80cb_5074"><p>follow the steps leading to the issue.</p></li></ul><p id="891e80cb_5075">Collected log files will help to diagnose &amp; solve the issue.</p></section><section class="chapter"><h2 id="driver-managers" data-toc="driver-managers"   >Driver Managers</h2><p id="891e80cb_5076">Note, that since ODBC drivers are not used directly by a user, but rather accessed through applications, which in their turn access the driver through ODBC driver manager, user have to install the driver for the <span class="control" id="891e80cb_5077">same architecture</span> (32- or 64-bit) as the application that is going to access the driver. Moreover, both the driver and the application must be compiled for (and actually use during run-time) the <span class="control" id="891e80cb_5078">same ODBC driver manager implementation</span> (we call them &quot;ODBC providers&quot; here). There are three supported ODBC providers:</p><ul class="list _ul" id="891e80cb_5079"><li class="list__item" id="891e80cb_5080"><p>ODBC driver manager associated with <span class="control" id="891e80cb_5081">MDAC</span> (Microsoft Data Access Components, sometimes referenced as WDAC, Windows Data Access Components) - the standard ODBC provider of Windows</p></li><li class="list__item" id="891e80cb_5082"><p><span class="control" id="891e80cb_5083">UnixODBC</span> - the most common ODBC provider in Unix-like systems. Theoretically, could be used in Cygwin or MSYS/MinGW environments in Windows too.</p></li><li class="list__item" id="891e80cb_5084"><p><span class="control" id="891e80cb_5085">iODBC</span> - less common ODBC provider, mainly used in Unix-like systems, however, it is the standard ODBC provider in macOS. Theoretically, could be used in Cygwin or MSYS/MinGW environments in Windows too.</p></li></ul><p id="891e80cb_5086">If you don't see a package that matches your platforms, or the version of your system is significantly different than those of the available packages, or maybe you want to try a bleeding edge version of the code that hasn't been released yet, you can always build the driver manually from sources.</p><p id="891e80cb_5087">Note, that it is always a good idea to install the driver from the corresponding <span class="control" id="891e80cb_5088">native</span> package (<code class="code" id="891e80cb_5089">.msi</code>, etc., which you can also easily create if you are building from sources), than use the binaries that were manually copied to some folder.</p></section><section class="chapter"><h2 id="building-from-sources" data-toc="building-from-sources"   >Building from sources</h2><p id="891e80cb_5090">The general requirements for building the driver from sources are as follows:</p><ul class="list _ul" id="891e80cb_5091"><li class="list__item" id="891e80cb_5092"><p>CMake 3.12 and later</p></li><li class="list__item" id="891e80cb_5093"><p>C++17 and C11 capable compiler toolchain: </p><ul class="list _ul" id="891e80cb_5094"><li class="list__item" id="891e80cb_5095"><p>Clang 4 and later</p></li><li class="list__item" id="891e80cb_5096"><p>GCC 7 and later</p></li><li class="list__item" id="891e80cb_5097"><p>Xcode 10 and later</p></li><li class="list__item" id="891e80cb_5098"><p>Microsoft Visual Studio 2017 and later</p></li></ul></li><li class="list__item" id="891e80cb_5099"><p>ODBC Driver manager (MDAC / unixodbc / iODBC)</p></li><li class="list__item" id="891e80cb_5100"><p>SSL library (openssl)</p></li></ul><p id="891e80cb_5101">Generic build scenario:</p><div class="code-block" data-lang="none"         >
git clone --recursive git@github.com:ClickHouse/clickhouse-odbc.git
cd clickhouse-odbc
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo ..
cmake --build . -C RelWithDebInfo
</div><p id="891e80cb_5103">Additional requirements exist for each platform, which also depend on whether packaging and/or testing is performed.</p><section class="chapter"><h3 id="linux-macos" data-toc="linux-macos"   >Linux/macOS</h3><p id="891e80cb_5104">Execute the following in the terminal to install needed dependencies:</p><div class="code-block" data-lang="none"         >
# on Red Hat/CentOS (tested on CentOS 7)
sudo yum groupinstall &quot;Development Tools&quot;
sudo yum install centos-release-scl
sudo yum install devtoolset-8
sudo yum install git cmake openssl-devel unixODBC-devel # You may use libiodbc-devel INSTEAD of unixODBC-devel
scl enable devtoolset-8 -- bash # Enable Software collections for that terminal session, to use newer versions of complilers

# on Ubuntu (tested on Ubuntu 18.10, for older versions you may need to install newer c++ compiler and cmake versions)
sudo apt install build-essential git cmake libpoco-dev libssl-dev unixodbc-dev # You may use libiodbc-devel INSEAD of unixODBC-devel

# MacOS: 
# You will need Xcode 10 or later and Command Line Tools to be installed, as well as [Homebrew](https://brew.sh/).
brew install git cmake make poco openssl libiodbc # You may use unixodbc INSTEAD of libiodbc 
</div><p id="891e80cb_5106"><span class="control" id="891e80cb_5107">Note:</span> usually on Linux you use unixODBC driver manager, and on Mac - iODBC. In some (rare) cases you may need use other driver manager, please do it only if you clearly understand the differencies. Driver should be used with the driver manager it was linked to.</p><p id="891e80cb_5108">Clone the repo with submodules:</p><div class="code-block" data-lang="none"         >
git clone --recursive git@github.com:ClickHouse/clickhouse-odbc.git
</div><p id="891e80cb_5110">Enter the cloned source tree, create a temporary build folder, and generate a Makefile for the project in it:</p><div class="code-block" data-lang="none"         >
cd clickhouse-odbc
mkdir build
cd build

# Configuration options for the project can be specified in the next command in a form of '-Dopt=val'
# For MacOS: you may also add '-G Xcode' to the next command, in order to use Xcode as a build system or IDE, and generate the solution and project files instead of Makefile.
cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo ..
</div><p id="891e80cb_5112">Build the generated solution in-place:</p><div class="code-block" data-lang="none"         >
cmake --build . -C RelWithDebInfo
cmake --build . -C RelWithDebInfo --target package
</div><p id="891e80cb_5114">...and, optionally, run tests (note, that for non-unit tests, preconfigured driver and DSN entries must exist, that point to the binaries generated in this build folder):</p><div class="code-block" data-lang="none"         >
cmake --build . -C RelWithDebInfo --target test
</div><p id="891e80cb_5116">For MacOS: if you configured the project with '-G Xcode' initially, open the IDE and build <code class="code" id="891e80cb_5117">all</code>, <code class="code" id="891e80cb_5118">package</code>, and <code class="code" id="891e80cb_5119">test</code> targets manually from there</p><div class="code-block" data-lang="none"         >
cmake --open .
</div></section><section class="chapter"><h3 id="windows" data-toc="windows"   >Windows</h3><p id="891e80cb_5121">CMake bundled with the recent versions of Visual Studio can be used.</p><p id="891e80cb_5122">An SDK required for building the ODBC driver is included in Windows SDK, which in its turn is also bundled with Visual Studio.</p><p id="891e80cb_5123">You will need to install WiX toolset to be able to generate <code class="code" id="891e80cb_5124">.msi</code> packages. You can download and install it from <a href="https://wixtoolset.org/" id="891e80cb_5125"   data-external="true" rel="noopener noreferrer" >WiX toolset home page</a>.</p><p id="891e80cb_5126">All of the following commands have to be issued in Visual Studio Command Prompt:</p><ul class="list _ul" id="891e80cb_5127"><li class="list__item" id="891e80cb_5128"><p>use <code class="code" id="891e80cb_5129">x86 Native Tools Command Prompt for VS 2019</code> or equivalent for 32-bit builds</p></li><li class="list__item" id="891e80cb_5130"><p>use <code class="code" id="891e80cb_5131">x64 Native Tools Command Prompt for VS 2019</code> or equivalent for 64-bit builds</p></li></ul><p id="891e80cb_5132">Clone the repo with submodules:</p><div class="code-block" data-lang="none"         >
git clone --recursive git@github.com:ClickHouse/clickhouse-odbc.git
</div><p id="891e80cb_5134">Enter the cloned source tree, create a temporary build folder, and generate the solution and project files in it:</p><div class="code-block" data-lang="none"         >
cd clickhouse-odbc
mkdir build
cd build

# Configuration options for the project can be specified in the next command in a form of '-Dopt=val'

# Use the following command for 32-bit build only.
cmake -A Win32 -DCMAKE_BUILD_TYPE=RelWithDebInfo ..

# Use the following command for 64-bit build only.
cmake -A x64 -DCMAKE_BUILD_TYPE=RelWithDebInfo ..
</div><p id="891e80cb_5136">Build the generated solution in-place:</p><div class="code-block" data-lang="none"         >
cmake --build . -C RelWithDebInfo
cmake --build . -C RelWithDebInfo --target package
</div><p id="891e80cb_5138">...and, optionally, run tests (note, that for non-unit tests, preconfigured driver and DSN entries must exist, that point to the binaries generated in this build folder):</p><div class="code-block" data-lang="none"         >
cmake --build . -C RelWithDebInfo --target test
</div><p id="891e80cb_5140">...or open the IDE and build <code class="code" id="891e80cb_5141">all</code>, <code class="code" id="891e80cb_5142">package</code>, and <code class="code" id="891e80cb_5143">test</code> targets manually from there:</p><div class="code-block" data-lang="none"         >
cmake --open .
</div></section><section class="chapter"><h3 id="cmake-options" data-toc="cmake-options"   >cmake options</h3><p id="891e80cb_5145">The list of configuration options recognized during the CMake generation step is as follows:</p><div class="table-wrapper"><table class="wide" id="891e80cb_5146"><thead><tr class="ijRowHead" id="891e80cb_5147"><th id="891e80cb_5148"><p>Option</p></th><th id="891e80cb_5149"><p>Default value</p></th><th id="891e80cb_5150"><p>Description</p></th></tr></thead><tbody><tr id="891e80cb_5151"><td id="891e80cb_5152"><p><code class="code" id="891e80cb_5153">CMAKE_BUILD_TYPE</code></p></td><td id="891e80cb_5154"><p><code class="code" id="891e80cb_5155">RelWithDebInfo</code></p></td><td id="891e80cb_5156"><p>Build type, one of: <code class="code" id="891e80cb_5157">Debug</code>, <code class="code" id="891e80cb_5158">Release</code>, <code class="code" id="891e80cb_5159">RelWithDebInfo</code></p></td></tr><tr id="891e80cb_5160"><td id="891e80cb_5161"><p><code class="code" id="891e80cb_5162">CH_ODBC_ENABLE_SSL</code></p></td><td id="891e80cb_5163"><p><code class="code" id="891e80cb_5164">ON</code></p></td><td id="891e80cb_5165"><p>Enable TLS/SSL (required for utilizing <code class="code" id="891e80cb_5166">https://</code> interface, etc.)</p></td></tr><tr id="891e80cb_5167"><td id="891e80cb_5168"><p><code class="code" id="891e80cb_5169">CH_ODBC_ENABLE_INSTALL</code></p></td><td id="891e80cb_5170"><p><code class="code" id="891e80cb_5171">ON</code></p></td><td id="891e80cb_5172"><p>Enable install targets (required for packaging)</p></td></tr><tr id="891e80cb_5173"><td id="891e80cb_5174"><p><code class="code" id="891e80cb_5175">CH_ODBC_ENABLE_TESTING</code></p></td><td id="891e80cb_5176"><p>inherits value of <code class="code" id="891e80cb_5177">BUILD_TESTING</code></p></td><td id="891e80cb_5178"><p>Enable test targets</p></td></tr><tr id="891e80cb_5179"><td id="891e80cb_5180"><p><code class="code" id="891e80cb_5181">CH_ODBC_PREFER_BUNDLED_THIRD_PARTIES</code></p></td><td id="891e80cb_5182"><p><code class="code" id="891e80cb_5183">ON</code></p></td><td id="891e80cb_5184"><p>Prefer bundled over system variants of third party libraries</p></td></tr><tr id="891e80cb_5185"><td id="891e80cb_5186"><p><code class="code" id="891e80cb_5187">CH_ODBC_PREFER_BUNDLED_POCO</code></p></td><td id="891e80cb_5188"><p>inherits value of <code class="code" id="891e80cb_5189">CH_ODBC_PREFER_BUNDLED_THIRD_PARTIES</code></p></td><td id="891e80cb_5190"><p>Prefer bundled over system variants of Poco library</p></td></tr><tr id="891e80cb_5191"><td id="891e80cb_5192"><p><code class="code" id="891e80cb_5193">CH_ODBC_PREFER_BUNDLED_SSL</code></p></td><td id="891e80cb_5194"><p>inherits value of <code class="code" id="891e80cb_5195">CH_ODBC_PREFER_BUNDLED_POCO</code></p></td><td id="891e80cb_5196"><p>Prefer bundled over system variants of TLS/SSL library</p></td></tr><tr id="891e80cb_5197"><td id="891e80cb_5198"><p><code class="code" id="891e80cb_5199">CH_ODBC_PREFER_BUNDLED_GOOGLETEST</code></p></td><td id="891e80cb_5200"><p>inherits value of <code class="code" id="891e80cb_5201">CH_ODBC_PREFER_BUNDLED_THIRD_PARTIES</code></p></td><td id="891e80cb_5202"><p>Prefer bundled over system variants of Google Test library</p></td></tr><tr id="891e80cb_5203"><td id="891e80cb_5204"><p><code class="code" id="891e80cb_5205">CH_ODBC_PREFER_BUNDLED_NANODBC</code></p></td><td id="891e80cb_5206"><p>inherits value of <code class="code" id="891e80cb_5207">CH_ODBC_PREFER_BUNDLED_THIRD_PARTIES</code></p></td><td id="891e80cb_5208"><p>Prefer bundled over system variants of nanodbc library</p></td></tr><tr id="891e80cb_5209"><td id="891e80cb_5210"><p><code class="code" id="891e80cb_5211">CH_ODBC_RUNTIME_LINK_STATIC</code></p></td><td id="891e80cb_5212"><p><code class="code" id="891e80cb_5213">OFF</code></p></td><td id="891e80cb_5214"><p>Link with compiler and language runtime statically</p></td></tr><tr id="891e80cb_5215"><td id="891e80cb_5216"><p><code class="code" id="891e80cb_5217">CH_ODBC_THIRD_PARTY_LINK_STATIC</code></p></td><td id="891e80cb_5218"><p><code class="code" id="891e80cb_5219">ON</code></p></td><td id="891e80cb_5220"><p>Link with third party libraries statically</p></td></tr><tr id="891e80cb_5221"><td id="891e80cb_5222"><p><code class="code" id="891e80cb_5223">CH_ODBC_DEFAULT_DSN_ANSI</code></p></td><td id="891e80cb_5224"><p><code class="code" id="891e80cb_5225">ClickHouse DSN (ANSI)</code></p></td><td id="891e80cb_5226"><p>Default ANSI DSN name</p></td></tr><tr id="891e80cb_5227"><td id="891e80cb_5228"><p><code class="code" id="891e80cb_5229">CH_ODBC_DEFAULT_DSN_UNICODE</code></p></td><td id="891e80cb_5230"><p><code class="code" id="891e80cb_5231">ClickHouse DSN (Unicode)</code></p></td><td id="891e80cb_5232"><p>Default Unicode DSN name</p></td></tr><tr id="891e80cb_5233"><td id="891e80cb_5234"><p><code class="code" id="891e80cb_5235">TEST_DSN</code></p></td><td id="891e80cb_5236"><p>inherits value of <code class="code" id="891e80cb_5237">CH_ODBC_DEFAULT_DSN_ANSI</code></p></td><td id="891e80cb_5238"><p>ANSI DSN name to use in tests</p></td></tr><tr id="891e80cb_5239"><td id="891e80cb_5240"><p><code class="code" id="891e80cb_5241">TEST_DSN_W</code></p></td><td id="891e80cb_5242"><p>inherits value of <code class="code" id="891e80cb_5243">CH_ODBC_DEFAULT_DSN_UNICODE</code></p></td><td id="891e80cb_5244"><p>Unicode DSN name to use in tests</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="packaging-redistributing-the-driver" data-toc="packaging-redistributing-the-driver"   >Packaging / redistributing the driver</h3><p id="891e80cb_5245">You can just copy the library to another computer, in that case you need to</p><ol class="list _decimal" id="891e80cb_5246" type="1"><li class="list__item" id="891e80cb_5247"><p>install run-time dependencies on target computer </p><ul class="list _ul" id="891e80cb_5248"><li class="list__item" id="891e80cb_5249"><p>Windows: </p><ul class="list _ul" id="891e80cb_5250"><li class="list__item" id="891e80cb_5251"><p>MDAC driver manager (preinstalled on all modern Windows systems)</p></li><li class="list__item" id="891e80cb_5252"><p><code class="code" id="891e80cb_5253">C++ Redistributable for Visual Studio 2017</code> or same for <code class="code" id="891e80cb_5254">2019</code>, etc.</p></li></ul></li><li class="list__item" id="891e80cb_5255"><p>Linux</p></li></ul></li></ol><div class="code-block" data-lang="none"         >
# CentOS / RedHat
sudo yum install openssl unixODBC

# Debian/Ubuntu
sudo apt install openssl unixodbc
</div><ul class="list _ul" id="891e80cb_5257"><li class="list__item" id="891e80cb_5258"><p>MacOS (assuming you have <a href="https://brew.sh/" id="891e80cb_5259"   data-external="true" rel="noopener noreferrer" >Homebrew</a> installed):</p></li></ul><div class="code-block" data-lang="none"         >
brew install poco openssl libiodbc
</div><ol class="list _decimal" id="891e80cb_5261" type="1" start="2"><li class="list__item" id="891e80cb_5262"><p>register the driver so that the corresponding ODBC provider is able to locate it.</p></li></ol><p id="891e80cb_5263">All this involves modifying a dedicated registry keys in case of MDAC, or editing <code class="code" id="891e80cb_5264">odbcinst.ini</code> (for driver registration) and <code class="code" id="891e80cb_5265">odbc.ini</code> (for DSN definition) files for UnixODBC or iODBC, directly or indirectly.</p><p id="891e80cb_5266">This will be done automatically using some default values if you are installing the driver using native installers.</p><p id="891e80cb_5267">Otherwise, if you are configuring manually, or need to modify the default configuration created by the installer, please see the exact locations of files (or registry keys) that need to be modified.</p></section></section><div class="last-modified"> Last modified: 17 十二月 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="kb-integrations-index.html">Integrations</a>   <a class="navigation-links__next" href="kb-integrations-catboost-mindsdb-fast-ai.html">CatBoost / MindsDB /  Fast.ai</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>