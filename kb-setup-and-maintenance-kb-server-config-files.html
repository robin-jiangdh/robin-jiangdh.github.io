<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-17T22:54:22.872884"><meta name="build-number" content="${buildNumber}">       <title>Server config files | blog</title><script id="virtual-toc-data" type="application/json">[{"id":"server-config-files-linktitle-server-config-files-description-how-to-manage-server-config-files-in-clickhouse","level":0,"title":"#Server config files\nlinkTitle: \"Server config files\"\ndescription: \u003e\nHow to manage server config files in Clickhouse","anchor":"#server-config-files-linktitle-server-config-files-description-how-to-manage-server-config-files-in-clickhouse"},{"id":"onfig-management-recommended-structure","level":0,"title":"Сonfig management (recommended structure)","anchor":"#onfig-management-recommended-structure"},{"id":"settings-restart","level":0,"title":"Settings \u0026 restart","anchor":"#settings-restart"},{"id":"dictionaries","level":0,"title":"Dictionaries","anchor":"#dictionaries"},{"id":"incl-attribute-metrica-xml","level":0,"title":"incl attribute \u0026 metrica.xml","anchor":"#incl-attribute-metrica-xml"},{"id":"multiple-clickhouse-instances-at-one-host","level":0,"title":"Multiple Clickhouse instances at one host","anchor":"#multiple-clickhouse-instances-at-one-host"},{"id":"preprocessed-configs","level":0,"title":"preprocessed_configs","anchor":"#preprocessed-configs"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Server config files | blog"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="blog Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/1.0/kb-setup-and-maintenance-kb-server-config-files.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Server config files | blog"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/1.0/kb-setup-and-maintenance-kb-server-config-files.html#webpage", "url": "/1.0/kb-setup-and-maintenance-kb-server-config-files.html", "name": "Server config files | blog", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "blog Help" }</script><!-- End Schema.org --></head>      <body data-id="kb-setup-and-maintenance_kb-server-config-files" data-main-title="Server config files" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Clickhouse///kb-setup-and-maintenance"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>blog 1.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="kb-setup-and-maintenance_kb-server-config-files"   id="kb-setup-and-maintenance_kb-server-config-files.md">Server config files</h1>  <section class="chapter"><h2 id="server-config-files-linktitle-server-config-files-description-how-to-manage-server-config-files-in-clickhouse" data-toc="server-config-files-linktitle-server-config-files-description-how-to-manage-server-config-files-in-clickhouse"   >#Server config files
linkTitle: &quot;Server config files&quot;
description: &gt;
How to manage server config files in Clickhouse</h2></section><section class="chapter"><h2 id="onfig-management-recommended-structure" data-toc="onfig-management-recommended-structure"   >Сonfig management (recommended structure)</h2><p id="57050f81_1522">Clickhouse server config consists of two parts server settings (config.xml) and users settings (users.xml).</p><p id="57050f81_1523">By default they are stored in the folder <span class="control" id="57050f81_1524">/etc/clickhouse-server/</span> in two files config.xml &amp; users.xml.</p><p id="57050f81_1525">We suggest never change vendor config files and place your changes into separate .xml files in sub-folders. This way is easier to maintain and ease Clickhouse upgrades.</p><p id="57050f81_1526"><span class="control" id="57050f81_1527">/etc/clickhouse-server/users.d</span> &ndash; sub-folder for user settings.</p><p id="57050f81_1528"><span class="control" id="57050f81_1529">/etc/clickhouse-server/config.d</span> &ndash; sub-folder for server settings.</p><p id="57050f81_1530"><span class="control" id="57050f81_1531">/etc/clickhouse-server/conf.d</span> &ndash; sub-folder for any (both) settings.</p><p id="57050f81_1532">File names of your xml files can be arbitrary but they are applied in alphabetical order.</p><p id="57050f81_1533">Examples:</p><div class="code-block" data-lang="markup"         >
$ cat /etc/clickhouse-server/config.d/listen_host.xml
&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;clickhouse&gt;
  &lt;listen_host&gt;::&lt;/listen_host&gt;
&lt;/clickhouse&gt;


$ cat /etc/clickhouse-server/config.d/macros.xml
&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;clickhouse&gt;
  &lt;macros&gt;
    &lt;cluster&gt;test&lt;/cluster&gt;
    &lt;replica&gt;host22&lt;/replica&gt;
    &lt;shard&gt;0&lt;/shard&gt;
    &lt;server_id&gt;41295&lt;/server_id&gt;
    &lt;server_name&gt;host22.server.com&lt;/server_name&gt;
  &lt;/macros&gt;
&lt;/clickhouse&gt;

cat /etc/clickhouse-server/config.d/zoo.xml
&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;clickhouse&gt;
  &lt;zookeeper&gt;
    &lt;node&gt;
      &lt;host&gt;localhost&lt;/host&gt;
      &lt;port&gt;2181&lt;/port&gt;
    &lt;/node&gt;
  &lt;/zookeeper&gt;
  &lt;distributed_ddl&gt;
    &lt;path&gt;/clickhouse/test/task_queue/ddl&lt;/path&gt;
  &lt;/distributed_ddl&gt;
&lt;/clickhouse&gt;

cat /etc/clickhouse-server/users.d/enable_access_management_for_user_default.xml
&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;clickhouse&gt;
  &lt;users&gt;
    &lt;default&gt;
      &lt;access_management&gt;1&lt;/access_management&gt;
    &lt;/default&gt;
  &lt;/users&gt;
&lt;/clickhouse&gt;

cat /etc/clickhouse-server/users.d/memory_usage.xml
&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;clickhouse&gt;
    &lt;profiles&gt;
        &lt;default&gt;
            &lt;max_bytes_before_external_group_by&gt;25290221568&lt;/max_bytes_before_external_group_by&gt;
            &lt;max_memory_usage&gt;50580443136&lt;/max_memory_usage&gt;
        &lt;/default&gt;
    &lt;/profiles&gt;
&lt;/clickhouse&gt;
</div><p id="57050f81_1535">BTW, you can define any macro in your configuration and use them in Zookeeper paths</p><div class="code-block" data-lang="none"         >
 ReplicatedMergeTree('/clickhouse/{cluster}/tables/my_table','{replica}')
</div><p id="57050f81_1537">or in your code using function getMacro:</p><div class="code-block" data-lang="none"         >
CREATE OR REPLACE VIEW srv_server_info
SELECT (SELECT getMacro('shard')) AS shard_num,
       (SELECT getMacro('server_name')) AS server_name,
       (SELECT getMacro('server_id')) AS server_key
</div><p id="57050f81_1539">Settings can be appended to an XML tree (default behaviour) or replaced or removed.</p><p id="57050f81_1540">Example how to delete <span class="control" id="57050f81_1541">tcp_port</span> &amp; <span class="control" id="57050f81_1542">http_port</span> defined on higher level in the main config.xml (it disables open tcp &amp; http ports if you configured secure ssl):</p><div class="code-block" data-lang="markup"         >
cat /etc/clickhouse-server/config.d/disable_open_network.xml
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;clickhouse&gt;
  &lt;http_port remove=&quot;1&quot;/&gt;
  &lt;tcp_port remove=&quot;1&quot;/&gt;
&lt;/clickhouse&gt;
</div><p id="57050f81_1544">Example how to replace <span class="control" id="57050f81_1545">remote_servers</span> section defined on higher level in the main config.xml (it allows to remove default test clusters.</p><div class="code-block" data-lang="markup"         >
&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;clickhouse&gt;
  &lt;remote_servers replace=&quot;1&quot;&gt;
    &lt;mycluster&gt;
      ....
    &lt;/mycluster&gt;
  &lt;/remote_servers&gt;
&lt;/clickhouse&gt;
</div></section><section class="chapter"><h2 id="settings-restart" data-toc="settings-restart"   >Settings &amp; restart</h2><p id="57050f81_1547">General 'rule of thumb':</p><ul class="list _ul" id="57050f81_1548"><li class="list__item" id="57050f81_1549"><p><span class="control" id="57050f81_1550">server</span> settings (<code class="code" id="57050f81_1551">config.xml</code> and <code class="code" id="57050f81_1552">config.d</code>) changes <span class="control" id="57050f81_1553">require restart</span>;</p></li><li class="list__item" id="57050f81_1554"><p><span class="control" id="57050f81_1555">user</span> settings (<code class="code" id="57050f81_1556">users.xml</code> and <code class="code" id="57050f81_1557">users.d</code>) changes <span class="control" id="57050f81_1558">don't require restart</span>.</p></li></ul><p id="57050f81_1559">But there are <span class="control" id="57050f81_1560">exceptions</span> from those rules (see below).</p><section class="chapter"><h3 id="server-config-config-xml-sections-which-don-t-require-restart" data-toc="server-config-config-xml-sections-which-don-t-require-restart"   >Server config (config.xml) sections which don't require restart</h3><ul class="list _ul" id="57050f81_1561"><li class="list__item" id="57050f81_1562"><p><code class="code" id="57050f81_1563">&lt;max_server_memory_usage&gt;</code></p></li><li class="list__item" id="57050f81_1564"><p><code class="code" id="57050f81_1565">&lt;max_server_memory_usage_to_ram_ratio&gt;</code></p></li><li class="list__item" id="57050f81_1566"><p><code class="code" id="57050f81_1567">&lt;max_table_size_to_drop&gt;</code> (since 19.12)</p></li><li class="list__item" id="57050f81_1568"><p><code class="code" id="57050f81_1569">&lt;max_partition_size_to_drop&gt;</code> (since 19.12)</p></li><li class="list__item" id="57050f81_1570"><p><code class="code" id="57050f81_1571">&lt;max_concurrent_queries&gt;</code> (since 21.11)</p></li><li class="list__item" id="57050f81_1572"><p><code class="code" id="57050f81_1573">&lt;macros&gt;</code></p></li><li class="list__item" id="57050f81_1574"><p><code class="code" id="57050f81_1575">&lt;remote_servers&gt;</code></p></li><li class="list__item" id="57050f81_1576"><p><code class="code" id="57050f81_1577">&lt;dictionaries_config&gt;</code></p></li><li class="list__item" id="57050f81_1578"><p><code class="code" id="57050f81_1579">&lt;user_defined_executable_functions_config&gt;</code></p></li><li class="list__item" id="57050f81_1580"><p><code class="code" id="57050f81_1581">&lt;models_config&gt;</code></p></li><li class="list__item" id="57050f81_1582"><p><code class="code" id="57050f81_1583">&lt;keeper_server&gt;</code></p></li><li class="list__item" id="57050f81_1584"><p><code class="code" id="57050f81_1585">&lt;zookeeper&gt;</code> (but reconnect don't happen automatically)</p></li><li class="list__item" id="57050f81_1586"><p><code class="code" id="57050f81_1587">&lt;storage_configuration&gt;</code></p></li><li class="list__item" id="57050f81_1588"><p><code class="code" id="57050f81_1589">&lt;user_directories&gt;</code></p></li><li class="list__item" id="57050f81_1590"><p><code class="code" id="57050f81_1591">&lt;access_control_path&gt;</code></p></li><li class="list__item" id="57050f81_1592"><p><code class="code" id="57050f81_1593">&lt;encryption_codecs&gt;</code></p></li><li class="list__item" id="57050f81_1594"><p><code class="code" id="57050f81_1595">&lt;logger&gt;</code> (since 21.11)</p></li></ul><p id="57050f81_1596">Those sections (live in separate files):</p><ul class="list _ul" id="57050f81_1597"><li class="list__item" id="57050f81_1598"><p><code class="code" id="57050f81_1599">&lt;dictionaries&gt;</code></p></li><li class="list__item" id="57050f81_1600"><p><code class="code" id="57050f81_1601">&lt;functions&gt;</code></p></li><li class="list__item" id="57050f81_1602"><p><code class="code" id="57050f81_1603">&lt;models&gt;</code></p></li></ul><p id="57050f81_1604">See also https://github.com/ClickHouse/ClickHouse/blob/445b0ba7cc6b82e69fef28296981fbddc64cd634/programs/server/Server.cpp#L809-L883</p></section><section class="chapter"><h3 id="user-settings-which-require-restart" data-toc="user-settings-which-require-restart"   >User settings which require restart.</h3><p id="57050f81_1605">Most of user setting changes don't require restart, but they get applied at the connect time, so existing connection may still use old user-level settings. That means that that new setting will be applied to new sessions / after reconnect.</p><p id="57050f81_1606">The list of user setting which require server restart:</p><ul class="list _ul" id="57050f81_1607"><li class="list__item" id="57050f81_1608"><p><code class="code" id="57050f81_1609">&lt;background_buffer_flush_schedule_pool_size&gt;</code></p></li><li class="list__item" id="57050f81_1610"><p><code class="code" id="57050f81_1611">&lt;background_pool_size&gt;</code></p></li><li class="list__item" id="57050f81_1612"><p><code class="code" id="57050f81_1613">&lt;background_merges_mutations_concurrency_ratio&gt;</code></p></li><li class="list__item" id="57050f81_1614"><p><code class="code" id="57050f81_1615">&lt;background_move_pool_size&gt;</code></p></li><li class="list__item" id="57050f81_1616"><p><code class="code" id="57050f81_1617">&lt;background_fetches_pool_size&gt;</code></p></li><li class="list__item" id="57050f81_1618"><p><code class="code" id="57050f81_1619">&lt;background_common_pool_size&gt;</code></p></li><li class="list__item" id="57050f81_1620"><p><code class="code" id="57050f81_1621">&lt;background_schedule_pool_size&gt;</code></p></li><li class="list__item" id="57050f81_1622"><p><code class="code" id="57050f81_1623">&lt;background_message_broker_schedule_pool_size&gt;</code></p></li><li class="list__item" id="57050f81_1624"><p><code class="code" id="57050f81_1625">&lt;background_distributed_schedule_pool_size&gt;</code></p></li><li class="list__item" id="57050f81_1626"><p><code class="code" id="57050f81_1627">&lt;max_replicated_fetches_network_bandwidth_for_server&gt;</code></p></li><li class="list__item" id="57050f81_1628"><p><code class="code" id="57050f81_1629">&lt;max_replicated_sends_network_bandwidth_for_server&gt;</code></p></li></ul><p id="57050f81_1630">See also <code class="code" id="57050f81_1631">select * from system.settings where description ilike 'start'</code></p><p id="57050f81_1632">Also there are several 'long-running' user sessions which are almost never restarted and can keep the setting from the server start (it's DDLWorker, Kafka, and some other service things).</p></section></section><section class="chapter"><h2 id="dictionaries" data-toc="dictionaries"   >Dictionaries</h2><p id="57050f81_1633">We suggest to store each dictionary description in a separate (own) file in a <span class="control" id="57050f81_1634">/etc/clickhouse-server/dict</span> sub-folder.</p><div class="code-block" data-lang="markup"         >
$ cat /etc/clickhouse-server/dict/country.xml
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;dictionaries&gt;
  &lt;dictionary&gt;
    &lt;name&gt;country&lt;/name&gt;
    &lt;source&gt;
      &lt;http&gt;
      ...
  &lt;/dictionary&gt;
&lt;/dictionaries&gt;
</div><p id="57050f81_1636">and add to the configuration</p><div class="code-block" data-lang="markup"         >
$ cat /etc/clickhouse-server/config.d/dictionaries.xml
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;clickhouse&gt;
  &lt;dictionaries_config&gt;dict/*.xml&lt;/dictionaries_config&gt;
  &lt;dictionaries_lazy_load&gt;true&lt;/dictionaries_lazy_load&gt;
&lt;/clickhouse&gt;
</div><p id="57050f81_1638"><span class="control" id="57050f81_1639">dict/*.xml</span> &ndash; relative path, servers seeks files in the folder <span class="control" id="57050f81_1640">/etc/clickhouse-server/dict</span>. More info in <a href="kb-server-config-files.html" id="57050f81_1641" data-tooltip="Clickhouse server config consists of two parts server settings (config.xml) and users settings (users.xml)."  >Multiple Clickhouse instances</a>.</p></section><section class="chapter"><h2 id="incl-attribute-metrica-xml" data-toc="incl-attribute-metrica-xml"   >incl attribute &amp; metrica.xml</h2><p id="57050f81_1642"><span class="control" id="57050f81_1643">incl</span> attribute allows to include some XML section from a special <span class="control" id="57050f81_1644">include</span> file multiple times.</p><p id="57050f81_1645">By default <span class="control" id="57050f81_1646">include</span> file is <span class="control" id="57050f81_1647">/etc/metrika.xml</span>. You can use many include files for each XML section.</p><p id="57050f81_1648">For example to avoid repetition of user/password for each dictionary you can create an XML file:</p><div class="code-block" data-lang="markup"         >
$ cat /etc/clickhouse-server/dict_sources.xml
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;clickhouse&gt;
  &lt;mysql_config&gt;
      &lt;port&gt;3306&lt;/port&gt;
      &lt;user&gt;user&lt;/user&gt;
      &lt;password&gt;123&lt;/password&gt;
      &lt;replica&gt;
        &lt;host&gt;mysql_host&lt;/host&gt;
        &lt;priority&gt;1&lt;/priority&gt;
      &lt;/replica&gt;
      &lt;db&gt;my_database&lt;/db&gt;
  &lt;/mysql_config&gt;
&lt;/clickhouse&gt;
</div><p id="57050f81_1650">Include this file:</p><div class="code-block" data-lang="markup"         >
$ cat /etc/clickhouse-server/config.d/dictionaries.xml
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;clickhouse&gt;
  ...
  &lt;include_from&gt;/etc/clickhouse-server/dict_sources.xml&lt;/include_from&gt;
&lt;/clickhouse&gt;
</div><p id="57050f81_1652">And use in dictionary descriptions (<span class="control" id="57050f81_1653">incl=&quot;mysql_config&quot;</span>):</p><div class="code-block" data-lang="markup"         >
$ cat /etc/clickhouse-server/dict/country.xml
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;dictionaries&gt;
  &lt;dictionary&gt;
    &lt;name&gt;country&lt;/name&gt;
    &lt;source&gt;
        &lt;mysql incl=&quot;mysql_config&quot;&gt;
            &lt;table&gt;my_table&lt;/table&gt;
            &lt;invalidate_query&gt;select max(id) from my_table&lt;/invalidate_query&gt;
        &lt;/mysql&gt;
    &lt;/source&gt;
      ...
  &lt;/dictionary&gt;
&lt;/dictionaries&gt;
</div></section><section class="chapter"><h2 id="multiple-clickhouse-instances-at-one-host" data-toc="multiple-clickhouse-instances-at-one-host"   >Multiple Clickhouse instances at one host</h2><p id="57050f81_1655">By default Clickhouse server configs are in <span class="control" id="57050f81_1656">/etc/clickhouse-server/</span> because clickhouse-server runs with a parameter <span class="control" id="57050f81_1657">--config-file /etc/clickhouse-server/config.xml</span></p><p id="57050f81_1658"><span class="control" id="57050f81_1659">config-file</span> is defined in startup scripts:</p><ul class="list _ul" id="57050f81_1660"><li class="list__item" id="57050f81_1661"><p><span class="control" id="57050f81_1662">/etc/init.d/clickhouse-server</span> &ndash; init-V</p></li><li class="list__item" id="57050f81_1663"><p><span class="control" id="57050f81_1664">/etc/systemd/system/clickhouse-server.service</span> &ndash; systemd</p></li></ul><p id="57050f81_1665">Clickhouse uses the path from <span class="control" id="57050f81_1666">config-file</span> parameter as base folder and seeks for other configs by relative path. All sub-folders <span class="control" id="57050f81_1667">users.d / config.d</span> are relative.</p><p id="57050f81_1668">You can start multiple <span class="control" id="57050f81_1669">clickhouse-server</span> each with own <span class="control" id="57050f81_1670">--config-file.</span></p><p id="57050f81_1671">For example:</p><div class="code-block" data-lang="none"         >
/usr/bin/clickhouse-server --config-file /etc/clickhouse-server-node1/config.xml
  /etc/clickhouse-server-node1/  config.xml ... users.xml
  /etc/clickhouse-server-node1/config.d/disable_open_network.xml
  /etc/clickhouse-server-node1/users.d/....

/usr/bin/clickhouse-server --config-file /etc/clickhouse-server-node2/config.xml
  /etc/clickhouse-server-node2/   config.xml ... users.xml
  /etc/clickhouse-server-node2/config.d/disable_open_network.xml
  /etc/clickhouse-server-node2/users.d/....
</div><p id="57050f81_1673">If you need to run multiple servers for CI purposes you can combine all settings in a single fat XML file and start ClickHouse without config folders/sub-folders.</p><div class="code-block" data-lang="none"         >
/usr/bin/clickhouse-server --config-file /tmp/ch1.xml
/usr/bin/clickhouse-server --config-file /tmp/ch2.xml
/usr/bin/clickhouse-server --config-file /tmp/ch3.xml
</div><p id="57050f81_1675">Each ClickHouse instance must work with own <span class="control" id="57050f81_1676">data-folder</span> and <span class="control" id="57050f81_1677">tmp-folder</span>.</p><p id="57050f81_1678">By default ClickHouse uses <span class="control" id="57050f81_1679">/var/lib/clickhouse/</span>. It can be overridden in path settings</p><div class="code-block" data-lang="none"         >
&lt;path&gt;/data/clickhouse-ch1/&lt;/path&gt;

&lt;tmp_path&gt;/data/clickhouse-ch1/tmp/&lt;/tmp_path&gt;

&lt;user_files_path&gt;/data/clickhouse-ch1/user_files/&lt;/user_files_path&gt;
  &lt;local_directory&gt;
    &lt;path&gt;/data/clickhouse-ch1/access/&lt;/path&gt;
  &lt;/local_directory&gt;

&lt;format_schema_path&gt;/data/clickhouse-ch1/format_schemas/&lt;/format_schema_path&gt;
</div></section><section class="chapter"><h2 id="preprocessed-configs" data-toc="preprocessed-configs"   >preprocessed_configs</h2><p id="57050f81_1681">Clickhouse server watches config files and folders. When you change, add or remove XML files Clickhouse immediately assembles XML files into a combined file. These combined files are stored in <span class="control" id="57050f81_1682">/var/lib/clickhouse/preprocessed_configs/</span> folders.</p><p id="57050f81_1683">You can verify that your changes are valid by checking <span class="control" id="57050f81_1684">/var/lib/clickhouse/preprocessed_configs/config.xml</span>, <span class="control" id="57050f81_1685">/var/lib/clickhouse/preprocessed_configs/users.xml</span>.</p><p id="57050f81_1686">If something wrong with with your settings e.g. unclosed XML element or typo you can see alerts about this mistakes in <span class="control" id="57050f81_1687">/var/log/clickhouse-server/clickhouse-server.log</span></p><p id="57050f81_1688">If you see your changes in <span class="control" id="57050f81_1689">preprocessed_configs</span> it does not mean that changes are applied on running server, check <a href="kb-server-config-files.html" id="57050f81_1690" data-tooltip="Clickhouse server config consists of two parts server settings (config.xml) and users settings (users.xml)."  >Settings &amp; restart</a></p></section><div class="last-modified"> Last modified: 17 十二月 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="kb-setup-and-maintenance-kb-settings-to-adjust.html">Settings to adjust</a>   <a class="navigation-links__next" href="kb-setup-and-maintenance-kb-replication-queue.html">Replication queue</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>