<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-17T23:19:46.7135209"><meta name="build-number" content="${buildNumber}">       <title>Dictionaries vs LowCardinality | blog</title><script id="virtual-toc-data" type="application/json">[{"id":"dictionaries-vs-lowcardinality-linktitle-dictionaries-vs-lowcardinality-description-dictionaries-vs-lowcardinality","level":0,"title":"#Dictionaries vs LowCardinality\nlinkTitle: \"Dictionaries vs LowCardinality\"\ndescription: \u003e\nDictionaries vs LowCardinality","anchor":"#dictionaries-vs-lowcardinality-linktitle-dictionaries-vs-lowcardinality-description-dictionaries-vs-lowcardinality"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Dictionaries vs LowCardinality | blog"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="blog Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/blog/1.0/kb-dictionaries-vs-lowcardinality.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Dictionaries vs LowCardinality | blog"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/blog/1.0/kb-dictionaries-vs-lowcardinality.html#webpage", "url": "/blog/1.0/kb-dictionaries-vs-lowcardinality.html", "name": "Dictionaries vs LowCardinality | blog", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/blog/#website", "url": "/blog/", "name": "blog Help" }</script><!-- End Schema.org --></head>      <body data-id="kb-dictionaries-vs-lowcardinality" data-main-title="Dictionaries vs LowCardinality" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Clickhouse///kb-schema-design"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>blog 1.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="kb-dictionaries-vs-lowcardinality"   id="kb-dictionaries-vs-lowcardinality.md">Dictionaries vs LowCardinality</h1>  <section class="chapter"><h2 id="dictionaries-vs-lowcardinality-linktitle-dictionaries-vs-lowcardinality-description-dictionaries-vs-lowcardinality" data-toc="dictionaries-vs-lowcardinality-linktitle-dictionaries-vs-lowcardinality-description-dictionaries-vs-lowcardinality"   >#Dictionaries vs LowCardinality
linkTitle: &quot;Dictionaries vs LowCardinality&quot;
description: &gt;
Dictionaries vs LowCardinality</h2><p id="5e5c072b_64">Q. I think I'm still trying to understand how de-normalized is okay - with my relational mindset, I want to move repeated string fields into their own table, but I'm not sure to what extent this is necessary</p><p id="5e5c072b_65">I will look at LowCardinality in more detail - I think it may work well here</p><p id="5e5c072b_66">A. If it's a simple repetition, which you don't need to manipulate/change in future - LowCardinality works great, and you usually don't need to increase the system complexity by introducing dicts.</p><p id="5e5c072b_67">For example: name of team 'Manchester United' will rather not be changed, and even if it will you can keep the historical records with historical name. So normalization here (with some dicts) is very optional, and de-normalized approach with LowCardinality is good &amp; simpler alternative.</p><p id="5e5c072b_68">From the other hand: if data can be changed in future, and that change should impact the reports, then normalization may be a big advantage.</p><p id="5e5c072b_69">For example if you need to change the used currency rare every day- it would be quite stupid to update all historical records to apply the newest exchange rate. And putting it to dict will allow to do calculations with latest exchange rate at select time.</p><p id="5e5c072b_70">For dictionary it's possible to mark some of the attributes as injective. An attribute is called injective if different attribute values correspond to different keys. It would allow ClickHouse to replace dictGet call in GROUP BY with cheap dict key.</p></section><div class="last-modified"> Last modified: 17 十二月 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="kb-jsonasstring-and-mat-view-as-json-parser.html">JSONAsString and Mat. View as JSON parser</a>   <a class="navigation-links__next" href="insert-deduplication.html">Insert Deduplication / Insert idempotency</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>